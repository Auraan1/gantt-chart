<template>
    <div class="slds-grid">
        <div if:false={isResource} class="slds-col slds-size_1-of-6 slds-p-around_small">
            <div class="resource slds-media slds-media_center slds-truncate">
                <div class="slds-media__figure">
                    <lightning-icon icon-name="action:user" size="x-small"></lightning-icon>
                </div>
                <div class="slds-media__body">
                    <h3 class="slds-text-body_default">
                        <a target="_blank" href={link}>{resource.Name}</a>
                    </h3>
                    <h3 class="slds-text-body_small slds-text-color_weak">
                        {resource.Default_Role__c}
                    </h3>
                </div>
            </div>
        </div>
        <!-- Days -->
        <div class="slds-col">
            <div class="slds-is-relative" style="height: 100%">
                <div class="slds-grid" style="height: 100%;">
                    <template for:each={dates} for:item="date">
                        <c-gantt_chart_timeslot key={date} resource={resource} date={date} onallocation={handleAllocation}></c-gantt_chart_timeslot>
                    </template>
                </div>
                <div class="slds-is-absolute allocation-container">
                    <template for:each={allocationLists} for:item="allocationList" for:index="index">
                        <template for:each={allocationList} for:item="allocation">
                            <c-gantt_chart_allocation key={allocation.Id} allocation={allocation} index={index} start-date={startDate} end-date={endDate}></c-gantt_chart_allocation>
                        </template>
                    </template>
                </div>
            </div>
        </div>
        <!-- /Days -->
    </div>


    <!-- <div class="slds-float_left slds-is-relative" style="overflow-x: hidden;">
        <template for:each={allocationLists} for:item="allocationList" for:index="index">
            <template for:each={allocationList} for:item="allocation">
                <c-gantt_chart_allocation key={allocation.Id} allocation={allocation} index={index} start-date={startDate} end-date={endDate}></c-gantt_chart_allocation>
            </template>
        </template>

        <div class="slds-clearfix">
            <template for:each={dates} for:item="date">
                <c-gantt_chart_timeslot key={date} resource={resource} date={date} onallocation={handleAllocationEvent}></c-gantt_chart_timeslot>
            </template>
        </div>
    </div> -->

</template>
